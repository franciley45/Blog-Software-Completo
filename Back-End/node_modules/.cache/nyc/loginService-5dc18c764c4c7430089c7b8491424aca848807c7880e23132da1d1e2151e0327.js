function cov_kv1enfwhw(){var path="/home/node/app/src/services/loginService.js";var hash="211610c6c925e82c1cd3e1e4437b6cf7f06231fa";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/node/app/src/services/loginService.js",statementMap:{"0":{start:{line:1,column:19},end:{line:1,column:50}},"1":{start:{line:2,column:12},end:{line:2,column:35}},"2":{start:{line:4,column:18},end:{line:7,column:1}},"3":{start:{line:9,column:15},end:{line:9,column:34}},"4":{start:{line:11,column:14},end:{line:28,column:1}},"5":{start:{line:13,column:2},end:{line:16,column:5}},"6":{start:{line:14,column:4},end:{line:16,column:5}},"7":{start:{line:18,column:17},end:{line:18,column:46}},"8":{start:{line:19,column:2},end:{line:22,column:5}},"9":{start:{line:20,column:4},end:{line:22,column:5}},"10":{start:{line:24,column:28},end:{line:24,column:34}},"11":{start:{line:25,column:18},end:{line:25,column:53}},"12":{start:{line:26,column:16},end:{line:26,column:52}},"13":{start:{line:27,column:2},end:{line:27,column:41}},"14":{start:{line:30,column:0},end:{line:32,column:1}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:11,column:14},end:{line:11,column:15}},loc:{start:{line:11,column:41},end:{line:28,column:1}},line:11}},branchMap:{"0":{loc:{start:{line:13,column:2},end:{line:16,column:5}},type:"if",locations:[{start:{line:13,column:2},end:{line:16,column:5}},{start:{line:13,column:2},end:{line:16,column:5}}],line:13},"1":{loc:{start:{line:13,column:6},end:{line:13,column:25}},type:"binary-expr",locations:[{start:{line:13,column:6},end:{line:13,column:12}},{start:{line:13,column:16},end:{line:13,column:25}}],line:13},"2":{loc:{start:{line:19,column:2},end:{line:22,column:5}},type:"if",locations:[{start:{line:19,column:2},end:{line:22,column:5}},{start:{line:19,column:2},end:{line:22,column:5}}],line:19},"3":{loc:{start:{line:19,column:6},end:{line:19,column:45}},type:"binary-expr",locations:[{start:{line:19,column:6},end:{line:19,column:13}},{start:{line:19,column:17},end:{line:19,column:45}}],line:19}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},f:{"0":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"211610c6c925e82c1cd3e1e4437b6cf7f06231fa"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_kv1enfwhw=function(){return actualCoverage;};}return actualCoverage;}cov_kv1enfwhw();const loginModel=(cov_kv1enfwhw().s[0]++,require('../models/loginModel'));const jwt=(cov_kv1enfwhw().s[1]++,require('jsonwebtoken'));const jwtConfig=(cov_kv1enfwhw().s[2]++,{expiresIn:'7d',algorithm:'HS256'});const secret=(cov_kv1enfwhw().s[3]++,'deus seja louvado');cov_kv1enfwhw().s[4]++;const login=async(email,password)=>{cov_kv1enfwhw().f[0]++;cov_kv1enfwhw().s[5]++;if((cov_kv1enfwhw().b[1][0]++,!email)||(cov_kv1enfwhw().b[1][1]++,!password)){cov_kv1enfwhw().b[0][0]++;cov_kv1enfwhw().s[6]++;return{status:400,message:'Todos os campos tem que esta preenchido'};}else{cov_kv1enfwhw().b[0][1]++;}const result=(cov_kv1enfwhw().s[7]++,await loginModel.login(email));cov_kv1enfwhw().s[8]++;if((cov_kv1enfwhw().b[3][0]++,!result)||(cov_kv1enfwhw().b[3][1]++,result.password!==password)){cov_kv1enfwhw().b[2][0]++;cov_kv1enfwhw().s[9]++;return{status:400,message:'User n√£o cadrastrado ou password errado'};}else{cov_kv1enfwhw().b[2][1]++;}const{user_id,name}=(cov_kv1enfwhw().s[10]++,result);const payload=(cov_kv1enfwhw().s[11]++,{data:{email,user_id,name}});const token=(cov_kv1enfwhw().s[12]++,jwt.sign(payload,secret,jwtConfig));cov_kv1enfwhw().s[13]++;return{status:null,message:token};};cov_kv1enfwhw().s[14]++;module.exports={login};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJsb2dpbk1vZGVsIiwicmVxdWlyZSIsImp3dCIsImp3dENvbmZpZyIsImV4cGlyZXNJbiIsImFsZ29yaXRobSIsInNlY3JldCIsImxvZ2luIiwiZW1haWwiLCJwYXNzd29yZCIsInN0YXR1cyIsIm1lc3NhZ2UiLCJyZXN1bHQiLCJ1c2VyX2lkIiwibmFtZSIsInBheWxvYWQiLCJkYXRhIiwidG9rZW4iLCJzaWduIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbImxvZ2luU2VydmljZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBsb2dpbk1vZGVsID0gcmVxdWlyZSgnLi4vbW9kZWxzL2xvZ2luTW9kZWwnKVxuY29uc3Qgand0ID0gcmVxdWlyZSgnanNvbndlYnRva2VuJyk7XG5cbmNvbnN0IGp3dENvbmZpZyA9IHtcbiAgZXhwaXJlc0luOiAnN2QnLFxuICBhbGdvcml0aG06ICdIUzI1NicsXG59O1xuXG5jb25zdCBzZWNyZXQgPSAnZGV1cyBzZWphIGxvdXZhZG8nO1xuXG5jb25zdCBsb2dpbiA9IGFzeW5jIChlbWFpbCwgcGFzc3dvcmQpID0+IHtcblxuICBpZiAoIWVtYWlsIHx8ICFwYXNzd29yZClcbiAgICByZXR1cm4ge1xuICAgICAgc3RhdHVzOiA0MDAsIG1lc3NhZ2U6ICdUb2RvcyBvcyBjYW1wb3MgdGVtIHF1ZSBlc3RhIHByZWVuY2hpZG8nXG4gICAgfVxuXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGxvZ2luTW9kZWwubG9naW4oZW1haWwpXG4gIGlmICghcmVzdWx0IHx8IHJlc3VsdC5wYXNzd29yZCAhPT0gcGFzc3dvcmQpXG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXR1czogNDAwLCBtZXNzYWdlOiAnVXNlciBuw6NvIGNhZHJhc3RyYWRvIG91IHBhc3N3b3JkIGVycmFkbydcbiAgICB9XG5cbiAgY29uc3QgeyB1c2VyX2lkLCBuYW1lIH0gPSByZXN1bHRcbiAgY29uc3QgcGF5bG9hZCA9IHsgZGF0YTogeyBlbWFpbCwgdXNlcl9pZCwgbmFtZSAgfSB9O1xuICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKHBheWxvYWQsIHNlY3JldCwgand0Q29uZmlnKTtcbiAgcmV0dXJuIHsgc3RhdHVzOiBudWxsLCBtZXNzYWdlOiB0b2tlbiB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBsb2dpblxufSJdLCJtYXBwaW5ncyI6Ink2RUFlWTtBQUFBLHlGQWZaLEtBQU1BLFdBQVUseUJBQUdDLE9BQU8sQ0FBQyxzQkFBc0IsQ0FBQyxFQUNsRCxLQUFNQyxJQUFHLHlCQUFHRCxPQUFPLENBQUMsY0FBYyxDQUFDLEVBRW5DLEtBQU1FLFVBQVMseUJBQUcsQ0FDaEJDLFNBQVMsQ0FBRSxJQUFJLENBQ2ZDLFNBQVMsQ0FBRSxPQUNiLENBQUMsRUFFRCxLQUFNQyxPQUFNLHlCQUFHLG1CQUFtQixFQUFDLHVCQUVuQyxLQUFNQyxNQUFLLENBQUcsTUFBT0MsS0FBSyxDQUFFQyxRQUFRLEdBQUssK0NBRXZDLEdBQUksNEJBQUNELEtBQUssOEJBQUksQ0FBQ0MsUUFBUSxFQUNyQix3REFBTyxDQUNMQyxNQUFNLENBQUUsR0FBRyxDQUFFQyxPQUFPLENBQUUseUNBQ3hCLENBQUMsQ0FBRCxDQUFDLGdDQUVILEtBQU1DLE9BQU0seUJBQUcsS0FBTVosV0FBVSxDQUFDTyxLQUFLLENBQUNDLEtBQUssQ0FBQyx5QkFDNUMsR0FBSSw0QkFBQ0ksTUFBTSw4QkFBSUEsTUFBTSxDQUFDSCxRQUFRLEdBQUtBLFFBQVEsRUFDekMsd0RBQU8sQ0FDTEMsTUFBTSxDQUFFLEdBQUcsQ0FBRUMsT0FBTyxDQUFFLHlDQUN4QixDQUFDLENBQUQsQ0FBQyxnQ0FFSCxLQUFNLENBQUVFLE9BQU8sQ0FBRUMsSUFBSyxDQUFDLDBCQUFHRixNQUFNLEVBQ2hDLEtBQU1HLFFBQU8sMEJBQUcsQ0FBRUMsSUFBSSxDQUFFLENBQUVSLEtBQUssQ0FBRUssT0FBTyxDQUFFQyxJQUFNLENBQUUsQ0FBQyxFQUNuRCxLQUFNRyxNQUFLLDBCQUFHZixHQUFHLENBQUNnQixJQUFJLENBQUNILE9BQU8sQ0FBRVQsTUFBTSxDQUFFSCxTQUFTLENBQUMsRUFBQyx3QkFDbkQsTUFBTyxDQUFFTyxNQUFNLENBQUUsSUFBSSxDQUFFQyxPQUFPLENBQUVNLEtBQU0sQ0FBQyxDQUN6QyxDQUFDLHlCQUVERSxNQUFNLENBQUNDLE9BQU8sQ0FBRyxDQUNmYixLQUNGLENBQUMifQ==